(function(define){if(typeof window!=="undefined"&&typeof window.document!=="undefined"){define(window,window.document)}})(function(window,document){var get_style=function(element,property){var computed_style=window.getComputedStyle(element);return computed_style.getPropertyValue(property)||""};var property_attribute=function(type,is_data){var data=function(key){return is_data?"data-"+key:key};return function(){var args=Array.from(arguments);if(args.length<1){var result={};if(type==="attribute"){var attributes=this.get(0).attributes;for(var att,i=0,atts=attributes,n=atts.length;i<n;i++){att=atts[i];result[is_data?att.nodeName.replace(/^data\-/,""):att.nodeName]=att.nodeValue}}return result}var key=args[0]||undefined;var value=args[1]||undefined;var properties=args[0]||undefined;if(args.length===1&&typeof key==="string"){if(type==="property"){return this.elements[0][key]}else if(type==="attribute"){return this.elements[0].getAttribute(data(key))}else if(type==="style"){return get_style(this.elements[0],key)}}if(typeof key==="string"&&typeof value==="string"){return this.each(function(element){if(type==="property"){element[key]=value}else if(type==="attribute"){element.setAttribute(data(key),value)}else if(type==="style"){element.style[key]=value}})}if(typeof properties==="object"){var handler=function(element){if(type==="property"){element[attribute]=key_value}else if(type==="attribute"){element.setAttribute(data(attribute),key_value)}else if(type==="style"){element.style[attribute]=key_value}};for(var attribute in properties){if(properties.hasOwnProperty(attribute)){var key_value=properties[attribute];this.each(handler)}}}return this}};var set_style=function(property,fallback){return function(value){return this.each(function(element){element.style[property]=value||fallback})}};var get_first_or_set_all=function(property){return function(value){if(!value){return this.elements.length>0?this.elements[0][property]:undefined}return this.each(function(element){element[property]=value})}};var is_element=function(value){try{return(value instanceof HTMLElement)}catch(error){return(typeof value==="object")&&(value.nodeType===1)&&(typeof value.style==="object")&&(typeof value.ownerDocument==="object")}};var on_ready=function(callback){if(document.readyState!="loading"){callback()}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",callback)}else{document.attachEvent("onreadystatechange",function(){if(document.readyState!="loading"){callback()}})}};var get_siblings=function(element){if(!element.parentElement){return[]}return Array.from(element.parentElement.children).filter(function(current){return current!==element})};var get_parents=function(element){var parents=[];var current=element;while(current.parentElement){var parent=current.parentElement;parents.push(parent);current=parent}return parents};var add_event_listener=function(element,event_name,handler){if(element.addEventListener){element.addEventListener(event_name,handler);return handler}else{var wrapped=function(event){handler.call(element,event)};element.attachEvent("on"+event_name,wrapped);return wrapped}};var wrap_elements=function(elements){elements=(function(){if(elements instanceof Array){return elements}else if(elements===window||elements==document||is_element(elements)){return[elements]}return[]})();var instance=Object.assign({},{elements:elements,length:elements.length});Object.setPrototypeOf(instance,Dove.prototype);return instance};var matches_selector=function(element,selector){var matches=element.matches||element.matchesSelector||element.msMatchesSelector||element.mozMatchesSelector||element.webkitMatchesSelector||element.oMatchesSelector;if(matches){return matches.call(element,selector)}if(element.parentNode===null){return false}var nodes=element.parentNode.querySelectorAll(selector);for(var i=0;i<nodes.length;i++){if(nodes[i]===element){return true}}return false};function Dove(selector,context){if(!(this instanceof Dove)){return new Dove(selector,context)}if(arguments.length<1||!selector){return wrap_elements()}context=context||document;if(typeof context.querySelectorAll!=="function"){throw new Error("`context.querySelectorAll` is not a function")}if(typeof selector==="string"){this.elements=Array.from(context.querySelectorAll(selector))}else if(selector===window||selector==document||is_element(selector)){this.elements=[selector]}else if(typeof selector==="function"){return Dove(document).ready(selector)}else{throw new TypeError("The `selector` argument should be a \"string\", window, document or of type \"element\".")}this.length=this.elements.length;return this}Dove.prototype.prop=property_attribute("property",false);Dove.prototype.data=property_attribute("attribute",true);Dove.prototype.attr=property_attribute("attribute",false);Dove.prototype.css=property_attribute("style",false);Dove.prototype.show=set_style("display","");Dove.prototype.hide=set_style("display","none");Dove.prototype.html=get_first_or_set_all("innerHTML");Dove.prototype.text=get_first_or_set_all("textContent");Dove.prototype.val=get_first_or_set_all("value");Dove.prototype.ready=function(callback){on_ready.call(document,callback);return this};Dove.prototype.each=function(callback){this.elements.forEach(function(element,index,instance){callback.apply(element,[element,index,instance])});return this};Dove.prototype.map=function(callback){return wrap_elements(this.elements.map(function(element,index,instance){callback.apply(element,[element,index,instance])}))};Dove.prototype.filter=function(selector){if(typeof selector==="function"){return wrap_elements(this.elements.filter(function(element,index,instance){selector.apply(element,[element,index,instance])}))}else if(typeof selector==="string"){return wrap_elements(this.elements.filter(function(element){return matches_selector(element,selector)}))}else{throw new TypeError("Filter selector must be of type `string` or `function`")}};Dove.prototype.eq=function(index){return wrap_elements(this.elements[index])};Dove.prototype.get=function(index){if(typeof index==="number"){return this.elements[index]||undefined}else{return this.elements}};Dove.prototype.find=function(selector){return wrap_elements(this.elements.map(function(element){return Array.from(element.querySelectorAll(selector)||[])}).flat().filter(function(value,index,self){return self.indexOf(value)===index}))};Dove.prototype.siblings=function(selector){return wrap_elements(this.elements.map(function(element){if(typeof selector==="string"){return get_siblings(element).filter(function(sibling){return matches_selector(sibling,selector)})}else{return get_siblings(element)}}).flat())};Dove.prototype.parent=function(){return wrap_elements(this.elements.map(function(element){return element.parentElement}).filter(function(value,index,self){return value&&self.indexOf(value)===index}).flat())};Dove.prototype.parents=function(selector){return wrap_elements(this.elements.map(function(element){if(typeof selector==="string"){return get_parents(element).filter(function(parent){return matches_selector(parent,selector)})}else{return get_parents(element)}}).flat())};Dove.prototype.replaceWith=function(html){return this.each(function(element){element.outerHTML=html})};Dove.prototype.on=function(events,callback){var event_names=events.trim().split(/\s+/g);this.each(function(element){for(var i=0;i<event_names.length;i++){var event_name=event_names[i];add_event_listener(element,event_name,callback)}});return this};Dove.prototype.addClass=function(classes){var class_list=classes.trim().split(/\s+/g);return this.each(function(element){class_list.forEach(function(class_name){if(!element.classList.contains(class_name)){element.classList.add(class_name)}})})};Dove.prototype.removeClass=function(classes){var class_list=classes.trim().split(/\s+/g);return this.each(function(element){class_list.forEach(function(class_name){while(element.classList.contains(class_name)){element.classList.remove(class_name)}})})};Dove.prototype.hasClass=function(class_name){var element=this.elements[0];if(element.classList){return element.classList.contains(class_name)}else{return(new RegExp("(^| )"+class_name+"( |$)","gi").test(element.className))}};Dove.prototype.toggleClass=function(class_name){return this.each(function(element){if(element.classList){element.classList.toggle(class_name)}else{var classes=element.className.split(" ");var existingIndex=-1;for(var i=classes.length;i--;){if(classes[i]===class_name){existingIndex=i}}if(existingIndex>=0){classes.splice(existingIndex,1)}else{classes.push(class_name)}element.className=classes.join(" ")}})};Dove.prototype.prepend=function(value){return this.each(function(element){if(typeof value==="string"){element.innerHTML=value+element.innerHTML}else{element.parentElement.insertBefore(value,element.parentElement.firstChild)}})};Dove.prototype.append=function(value){return this.each(function(element){if(typeof value==="string"){element.innerHTML+=value}else{element.appendChild(value)}})};Dove.prototype.empty=function(){var to_empty=["value","innerHTML","textContent"];return this.each(function(element){for(var i=0;i<to_empty.length;i++){var property=to_empty[i];if(element.hasOwnProperty(property)){element[property]=""}}})};Dove.prototype.toggle=function(){return this.each(function(element){element.style.display=get_style(element,"display")==="none"?"unset":"none"})};Dove.prototype.visible=function(){return this.filter(function(element){return(get_style(element,"display")!=="none")})};Dove.prototype.last=function(){return wrap_elements(this.elements[this.length-1])};Dove.prototype.first=function(){return wrap_elements(this.elements[0])};Dove.prototype.remove=function(){this.each(function(element){try{element.remove()}catch(_){if(element.parentNode!==null){element.parentNode.removeChild(element)}}});return wrap_elements()};Dove.prototype.children=function(){var result=[];this.each(function(element){var children=element.children;for(var i=0;i<children.length;i++){var child=children[i];if(result.indexOf(child)<0){result.push(child)}}});return wrap_elements(result)};window.Dove=Dove})