Dove(function(){var articles=Dove("main#article-list > article");function switch_genre(){var hash=location.hash.slice(1).split("=").map(function(item){return item.trim()});if(hash[0]==="show"&&hash[1]==="all"){articles.show()}else if(hash[0]==="genre"){articles.hide().filter("[data-genre='"+hash[1]+"']").show()}else if(hash[0]==="category"){articles.hide().filter("[data-category='"+hash[1]+"']").show()}else{window.location.hash="#show=all";return undefined}Dove(".filter-button[href*='="+hash[1]+"']").addClass("fw-bold text-muted").siblings().removeClass("fw-bold text-muted").addClass("text-secondary")}Dove("#category-modal a.btn").on("click",function(){Dove(".filter-button").removeClass("fw-bold text-muted").addClass("text-secondary")});switch_genre();Dove(window).on("hashchange",switch_genre)});Dove(function(){var links=Dove("[data-random='allow']");Dove("#random-article-button").on("click",function(){var link=links.get(Math.floor(Math.random()*links.length));location.href=Dove(link).attr("href")})});Dove(function(){var articles=Dove("#search-modal li").hide();var search_input=Dove("#search-modal input");search_input.val("");articles.removeClass("last-visible").hide();function standardise_text(value){return value.toLowerCase().replace(/\s+/g," ").trim()}var searchable=articles.get().map(function(element){var article=Dove(element);return{t:standardise_text(article.data("title")||""),g:standardise_text(article.data("genre")||""),c:standardise_text(article.data("category")||""),s:standardise_text(article.data("subcategory")||""),}});search_input.on("keyup",function(){var value=standardise_text(Dove(this).val());for(var i=0;i<searchable.length;i++){var data=searchable[i];var condition=value.length>0&&(data.t.includes(value)||data.g.includes(value)||data.c.includes(value)||data.s.includes(value));articles.eq(i)[condition?"show":"hide"]()}articles.removeClass("last-visible").visible().last().addClass("last-visible")})})